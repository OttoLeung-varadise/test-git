definitions:
  handler.Attributes:
    properties:
      (APP):
        description: 外貌
        type: integer
      (CON):
        description: 体质
        type: integer
      (DEX):
        description: 敏捷
        type: integer
      (EDU):
        description: 教育
        type: integer
      (INT):
        description: 智力
        type: integer
      (LUK):
        description: 幸运
        type: integer
      (POW):
        description: 意志
        type: integer
      (SIZ):
        description: 体型
        type: integer
      (STR):
        description: 力量
        type: integer
      derived:
        allOf:
        - $ref: '#/definitions/handler.DerivedAttributes'
        description: 派生属性
    type: object
  handler.BasicInfo:
    properties:
      age:
        description: 年龄
        type: integer
      alignment:
        description: 阵营
        type: string
      appearance:
        description: 外貌描述
        type: string
      avatar_url:
        description: 头像URL
        type: string
      backstory:
        description: 背景故事
        type: string
      gender:
        description: 性别
        type: string
      name:
        description: 角色名
        type: string
      occupation:
        description: 职业
        type: string
      race:
        description: 种族
        type: string
    type: object
  handler.BookListResponse:
    properties:
      list:
        description: 分页数据列表
        items:
          $ref: '#/definitions/handler.BookResponse'
        type: array
      total:
        description: 总条数
        type: integer
    type: object
  handler.BookResponse:
    properties:
      author:
        description: 作者
        type: string
      created_at:
        description: 创建时间
        type: string
      description:
        description: 描述
        type: string
      id:
        description: 主键ID
        type: integer
      price:
        description: 价格
        type: number
      title:
        description: 书名
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  handler.COCRoleCard:
    properties:
      attributes:
        allOf:
        - $ref: '#/definitions/handler.Attributes'
        description: 属性值
      basic_info:
        allOf:
        - $ref: '#/definitions/handler.BasicInfo'
        description: 基本信息
      inventory:
        allOf:
        - $ref: '#/definitions/handler.Inventory'
        description: 物品与财富
      personal_traits:
        allOf:
        - $ref: '#/definitions/handler.PersonalTraits'
        description: 个人特征
      skills:
        allOf:
        - $ref: '#/definitions/handler.Skills'
        description: 技能
      status:
        allOf:
        - $ref: '#/definitions/handler.Status'
        description: 当前状态
    type: object
  handler.CreateBookRequest:
    properties:
      author:
        description: 作者（必填）
        type: string
      description:
        description: 描述
        type: string
      price:
        description: 价格
        type: number
      title:
        description: 书名（必填）
        type: string
    required:
    - author
    - title
    type: object
  handler.CreateRoleRequest:
    properties:
      avatar_url:
        description: 頭像
        type: string
      description:
        description: 描述
        type: string
      name:
        description: 书名（必填）
        type: string
      role_data:
        allOf:
        - $ref: '#/definitions/handler.COCRoleCard'
        description: 角色数据（JSON字符串）
    required:
    - name
    - role_data
    type: object
  handler.DerivedAttributes:
    properties:
      (HP):
        description: 生命值
        type: integer
      (MOV):
        description: 移动力
        type: integer
      (MP):
        description: 魔法值
        type: integer
      (SAN):
        description: 理智值
        type: integer
      actions:
        description: 行动数
        type: integer
      loadlimit(kg):
        description: 负重上限(kg)
        type: integer
    type: object
  handler.Equipment:
    properties:
      ammo:
        description: 弹药（仅武器有，可选）
        type: integer
      name:
        description: 装备名称
        type: string
      quantity:
        description: 数量
        type: integer
      remark:
        description: 备注（可选）
        type: string
    type: object
  handler.Inventory:
    properties:
      equipments:
        description: 装备列表
        items:
          $ref: '#/definitions/handler.Equipment'
        type: array
      wealth:
        allOf:
        - $ref: '#/definitions/handler.Wealth'
        description: 财富信息
    type: object
  handler.PersonalTraits:
    properties:
      importantItem:
        description: 重要物品
        type: string
      importantPerson:
        description: 重要之人
        type: string
      personality:
        description: 个性特点
        type: string
      specialAbility:
        description: 特殊能力
        type: string
    type: object
  handler.RoleListResponse:
    properties:
      list:
        description: 分页数据列表
        items:
          $ref: '#/definitions/handler.RoleResponse'
        type: array
      total:
        description: 总条数
        type: integer
    type: object
  handler.RoleResponse:
    properties:
      avatar_url:
        description: 头像URL
        type: string
      created_at:
        description: 创建时间
        type: string
      description:
        description: 角色描述
        type: string
      name:
        description: 角色名称
        type: string
      role_data:
        allOf:
        - $ref: '#/definitions/handler.COCRoleCard'
        description: 角色数据（JSON字符串）
      updated_at:
        description: 更新时间
        type: string
    type: object
  handler.Skill:
    properties:
      name:
        description: 技能名称
        type: string
      remark:
        description: 备注（可选）
        type: string
      value:
        description: 技能数值
        type: integer
    type: object
  handler.Skills:
    properties:
      general:
        description: 通用技能
        items:
          $ref: '#/definitions/handler.Skill'
        type: array
      magic:
        description: 魔法技能
        items:
          $ref: '#/definitions/handler.Skill'
        type: array
      occupational:
        description: 职业技能
        items:
          $ref: '#/definitions/handler.Skill'
        type: array
    type: object
  handler.Status:
    properties:
      currentHP:
        description: 当前生命值
        type: integer
      currentSAN:
        description: 当前理智值
        type: integer
      isInjured:
        description: 是否受伤
        type: boolean
      isInsane:
        description: 是否疯狂
        type: boolean
      remark:
        description: 备注
        type: string
    type: object
  handler.UpdateBookRequest:
    properties:
      author:
        description: 作者（可选）
        type: string
      description:
        description: 描述（可选）
        type: string
      price:
        description: 价格（可选）
        type: number
      title:
        description: 书名（可选，不填则不更新）
        type: string
    type: object
  handler.UpdateRoleRequest:
    properties:
      avatar_url:
        description: 頭像
        type: string
      description:
        description: 描述
        type: string
      name:
        description: 书名（必填）
        type: string
      role_data:
        allOf:
        - $ref: '#/definitions/handler.COCRoleCard'
        description: 角色数据（JSON字符串）
    type: object
  handler.Wealth:
    properties:
      assets:
        description: 资产
        type: string
      cash:
        description: 现金
        type: integer
      creditScore:
        description: 信用评级
        type: integer
    type: object
info:
  contact: {}
paths:
  /books:
    get:
      description: 分页查询所有书籍
      parameters:
      - description: 页码（默认1）
        in: query
        name: page
        type: integer
      - description: 每页条数（默认10）
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.BookListResponse'
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 查询书籍列表
    post:
      consumes:
      - application/json
      description: 新增一本图书到数据库
      parameters:
      - description: 书籍信息
        in: body
        name: book
        required: true
        schema:
          $ref: '#/definitions/handler.CreateBookRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handler.BookResponse'
        "400":
          description: 请求参数错误
          schema:
            type: string
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 创建新书籍
  /books/{id}:
    delete:
      description: 根据ID软删除书籍
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: 删除成功
          schema:
            type: string
        "400":
          description: ID格式错误
          schema:
            type: string
        "404":
          description: 书籍不存在
          schema:
            type: string
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 删除书籍
    get:
      description: 通过ID查询书籍详情
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.BookResponse'
        "400":
          description: ID格式错误
          schema:
            type: string
        "404":
          description: 书籍不存在
          schema:
            type: string
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 查询单本书籍
    put:
      consumes:
      - application/json
      description: 根据ID更新书籍信息
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: integer
      - description: 更新的书籍信息
        in: body
        name: book
        required: true
        schema:
          $ref: '#/definitions/handler.UpdateBookRequest'
      produces:
      - application/json
      responses:
        "204":
          description: 更新成功
          schema:
            type: string
        "400":
          description: 请求参数错误或ID格式错误
          schema:
            type: string
        "404":
          description: 书籍不存在
          schema:
            type: string
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 更新书籍信息
  /roles:
    get:
      description: 分页查询所有角色
      parameters:
      - description: 页码（默认1）
        in: query
        name: page
        type: integer
      - description: 每页条数（默认10）
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.RoleListResponse'
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 查询角色列表
    post:
      consumes:
      - multipart/form-data
      description: 讀取一個角色excel，返回json
      parameters:
      - description: 要上传的文件
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.COCRoleCard'
        "400":
          description: 请求参数错误
          schema:
            type: string
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 创建新角色
  /roles/{id}:
    delete:
      description: 根据ID软删除角色
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "204":
          description: 删除成功
          schema:
            type: string
        "400":
          description: ID格式错误
          schema:
            type: string
        "404":
          description: 角色不存在
          schema:
            type: string
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 删除角色
    get:
      description: 根据ID查询角色详情
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handler.RoleResponse'
        "400":
          description: 请求参数错误或ID格式错误
          schema:
            type: string
        "404":
          description: 角色不存在
          schema:
            type: string
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 查询角色详情
    put:
      consumes:
      - application/json
      description: 根据ID更新角色信息
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: integer
      - description: 更新的角色信息
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/handler.UpdateRoleRequest'
      produces:
      - application/json
      responses:
        "204":
          description: 更新成功
          schema:
            type: string
        "400":
          description: 请求参数错误或ID格式错误
          schema:
            type: string
        "404":
          description: 角色不存在
          schema:
            type: string
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 更新角色信息
  /roles/create:
    post:
      consumes:
      - application/json
      description: 新增一個角色到数据库
      parameters:
      - description: 角色信息
        in: body
        name: book
        required: true
        schema:
          $ref: '#/definitions/handler.CreateRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handler.RoleResponse'
        "400":
          description: 请求参数错误
          schema:
            type: string
        "500":
          description: 服务器内部错误
          schema:
            type: string
      summary: 创建新角色
swagger: "2.0"
